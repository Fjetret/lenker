<!DOCTYPE html>
<html>
<head>
    <title>Links - Admin Panel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="loginSection">
        <h2>Login to Links Admin</h2>
        <input type="email" id="email" placeholder="Email">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
    </div>

    <div id="adminSection" style="display: none;">
        <h2>New Article</h2>
        <input type="text" id="title" placeholder="Title">
        <textarea id="content" placeholder="Content"></textarea>
        <input type="text" id="productLink" placeholder="Product Link">
        <input type="text" id="imageUrl" placeholder="Image URL">
        <button onclick="saveArticle()">Save Article</button>

        <h2>All Articles</h2>
        <div id="articlesList"></div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, query, orderBy } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAtrLJJq9Ifhu2XHtC5QUryaw1cpvQ71z0",
            authDomain: "lenker-8a621.firebaseapp.com",
            projectId: "lenker-8a621",
            storageBucket: "lenker-8a621.firebasestorage.app",
            messagingSenderId: "348908645713",
            appId: "1:348908645713:web:08adde71bb83a0711bb770",
            measurementId: "G-HTDK1S87F1"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        window.auth = getAuth(app);
        window.db = getFirestore(app);
        
        // Make Firebase functions available globally
        window.signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.collection = collection;
        window.addDoc = addDoc;
        window.getDocs = getDocs;
        window.deleteDoc = deleteDoc;
        window.doc = doc;
        window.query = query;
        window.orderBy = orderBy;
    </script>
    <script src="app.js"></script>
</body>
</html>
